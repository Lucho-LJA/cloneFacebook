<%= form_for(@post) do |f| %>
    <%= render "devise/shared/error_messages", resource: @post %>
    <div class="field">
        <div class="control">
            <%= f.text_area :content, autofocus: true, size: "60x5", 
                            required: true, 
                            style: "resize: none" %><br />
        </div>
    </div>
    <div class="field">
        <p>Add a image:</p>
        <div class="control">
            <%= f.file_field :img_url, accept: ".png,.jpeg,.jpg,.gif"%>
        </div>
    </div>
    <br />
    <%= f.submit 'New Post', class:"btn btn-secondary col-md-3"%>
<% end %>
<script type="text/javascript">
  document.getElementById('post_img_url').addEventListener('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 1) {
        this.value = '';
      alert('Maximum file size is 0.5 MB. Please choose a smaller file.');
    }
  });


</script>